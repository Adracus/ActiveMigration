#!/bin/bash


case "$1" in
	"generate")
		shift
		dart /opt/adracus/ActiveMigration/bin/generator.dart $@
	;;
	"migrate")
		shift
		dart /opt/adracus/ActiveMigration/bin/migrator.dart $@
	;;
	"update")
		wget -qO- https://raw.githubusercontent.com/Adracus/ActiveMigration/master/bin/install.sh | sudo bash
	;;
	*) echo "Use either migrate, generate or sudo amg update"
esac

if [ "$1" = "generate" ]; then
	shift
	dart /opt/adracus/ActiveMigration/bin/generator.dart $@
else
	if [ "$1" = "migrate" ]; then
		shift
		dart /opt/adracus/ActiveMigration/bin/migrator.dart $@
	else
		echo "Use either amg generate or amg migrate"
	fi
fi
